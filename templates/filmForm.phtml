<main class="container my-5">
  <div class="card shadow-lg border-0">
    <div class="card-header bg-dark text-white">
      <h3 class="mb-0">Agregar nueva película</h3>
    </div>

    <div class="card-body">
      <form action="insertFilm" method="POST" enctype="multipart/form-data">

        <!-- Título -->
        <div class="mb-3">
          <label for="titulo" class="form-label">Título</label>
          <input type="text" class="form-control" id="titulo" name="titulo" placeholder="Ej: Matrix" required>
        </div>

        <!-- Año -->
        <div class="mb-3">
          <label for="anio" class="form-label">Año</label>
          <input type="number" class="form-control" id="anio" name="anio" min="1900" max="2099" required>
        </div>

        <!-- Rating -->
        <div class="mb-3">
          <label for="rating" class="form-label">Rating (1-10)</label>
          <input type="number" step="0.1" class="form-control" id="rating" name="rating" min="1" max="10" required>
        </div>

    <!-- Género -->
    <div class="mb-3">
      <label for="id_genero" class="form-label">Género</label>
      <select class="form-select" id="id_genero" name="id_genero" required>
        <option value="">Seleccionar género...</option>
        <?php foreach ($genres as $genre): ?>
          <option value="<?= $genre->id_genero ?>"
            <?= (isset($movie) && $movie && $movie->id_genero == $genre->id_genero) ? 'selected' : '' ?>> <!-- isset($movie) && $movie asegura que $movie exista y que no sea null. -->
            <?= htmlspecialchars($genre->nombre) ?>
          </option>
        <?php endforeach; ?>
      </select>
    </div>

        <!-- Botones -->
        <div class="d-flex justify-content-between mt-4">
          <a href="home" class="btn btn-secondary">Cancelar</a>
          <button type="submit" class="btn btn-success">Agregar película</button>
        </div>

      </form>
    </div>
  </div>
</main>
